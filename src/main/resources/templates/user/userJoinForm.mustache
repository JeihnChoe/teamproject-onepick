<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join OnePick!</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.7.1.js"
            integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
</head>

<body>


<div>
    <div class="box" style="width: 600px; margin-bottom: 50px;">
        <div style="text-align: center; margin-top: 100px;">
            <h1>당신의 픽, It's OnePick</h1>
            <div style="color: #7F7F7F;">환영해요. 구직자님</div>


        </div>
        <form id="login-form" action="/userJoin" method="post" name="joinDTO">
            <div class="body-container">
                <div style="margin-left: 50px; margin-right: 100px; margin-top: 20px;">
                    <br>
                    <div>계정 관리</div>
                    <div style="color: var(--font_02); margin-top: 5px;">서비스에서 사용하는 내 계정 정보를 관리할 수 있습니다.</div>
                    <br>
                    <div class="body-text" style="margin-top: 30px;">
                        <div class="body-head">
                            ID
                        </div>
                        <div class="body-main">
                            <input id="login-id-input" class="input-box" type="text" placeholder="onepick" name="loginId"/>
                            <input id="login-id-check-input" hidden="hidden" type="radio" name="loginIdCheck">
                            <button type="button" onclick="(() => {
                                    $.post({
                                        type: 'POST',
                                        url: '/api/users/login-id-check',
                                        data: JSON.stringify({
                                            loginId: $('#login-id-input').val()
                                        }),
                                        contentType: 'application/json',
                                        success: function (data) {
                                            alert(data)
                                            $('#login-id-check-input').attr('checked', 'checked')
                                            $('#login-id-input').attr('readonly', 'readonly')
                                        },
                                        error: function (req) {
                                            alert(req.responseText)
                                        }
                                    })
                                })()">중복확인
                            </button>
                        </div>
                    </div>
                    <hr class="line" style="margin-top: 0px;">
                    <div class="body-text">
                        <div class="body-head">
                            비밀번호
                        </div>
                        <div class="body-main">
                            <input id="password-input" class="input-box" contenteditable="true" type="password" name="password">
                        </div>
                    </div>
                    <hr class="line" style="margin-top: 0px;">
                    <div class="body-text">
                        <div class="body-head">
                            비밀번호확인
                        </div>
                        <div class="body-main">
                            <input id="password-check-input" class="input-box" type="password" contenteditable="true" name="passwordConfirm">
                        </div>
                    </div>
                    <hr class="line" style="margin-top: 0px;">
                    <div class="body-text">
                        <div class="body-head">

                        </div>
                        <div class="body-main">
                            <input class="input-box" contenteditable="true"
                                   placeholder="위에두칸 일치여부만 확인해서 일치 불일치 출력, 일치시 text 색상 그린, 불일치시 레드">
                            </input>
                        </div>
                    </div>
                    <hr class="line" style="margin-top: 0px;">
                    <div class="body-text">
                        <div class="body-head">
                            이름
                        </div>
                        <div class="body-main">
                            <input class="input-box" contenteditable="true" placeholder="김원픽" name="username">
                            </input>
                        </div>
                    </div>
                    <hr class="line" style="margin-top: 0px;">
                    <div class="body-text">
                        <div class="body-head">
                            이메일
                        </div>
                        <div class="body-main">
                            <input class="input-box" contenteditable="true" placeholder="ex) onepick@onepick.com"
                                   name="email">
                            </input>
                        </div>
                    </div>
                    <hr class="line" style="margin-top: 0px;">
                    <div class="body-text">
                        <div class="body-head">
                            연락처
                        </div>
                        <div class="body-main">
                            <input class="input-box" contenteditable="true" placeholder="01094719693" name="tel">
                            </input>
                        </div>
                    </div>
                    <hr class="line" style="margin-top: 0px;">
                    <div class="body-text">
                        <div class="body-head">
                            생년월일
                        </div>
                        <div class="body-main">
                            <input class="input-box" contenteditable="true" placeholder="1993.04.22" name="birth">
                            </input>
                        </div>
                    </div>
                    <input type="hidden" name="usercode" value="1"></input>
                    <input type="hidden" name="picUrl" value="/images/default_img.png"></input>
                    <hr class="line" style="margin-top: 0px;">
                </div>
                <br>
                <br>
                <div style="display: flex; justify-content: center;">
                    <button type="button" class="button" style="width: 200px;" onclick="(() => {
                        // jquery
                        const passwordValue = $('#password-input').val()
                        if (passwordValue.length < 6) {
                            alert('비밀번호는 6자 이상이어야 합니다.')
                            $('#password-input').focus()
                            return;
                        }

                        const passwordCheckValue = $('#password-check-input').val()
                        if (passwordValue !== passwordCheckValue) {
                            alert('비밀번호가 일치하지 않습니다.')
                            $('#password-check-input').focus()
                            // 비밀번호 일치하지 않으면 여기서 끝. 폼 전송 안됌
                            return
                        }
                        // 폼 전송
                        document.joinDTO.submit()
                    })()">개인회원가입하기</button>
                </div>
            </div>
        </form>
        <br>
        <br>
        <br>
        <br>
        <br>


    </div>


</div>

</div>
</body>

</html>
